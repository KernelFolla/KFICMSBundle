{% macro link(webpage, add_anchor) %}
    <a href="{{ webpage | wp_path }}" alt="vai alla pagina {{ webpage.title }}" {{ add_anchor }}>{{ webpage.title }}</a>
{% endmacro %}

{% macro breadcrumbs(pages, home) %}
    <nav id="breadcrumbs">
        <ul class="breadcrumb">
            <li>
                <a href="{{ path(home | default('homepage')) }}"
                   rel="index{%- for i in pages | length %} up{%- endfor %}">Home</a>
                <span class="divider">/</span>
            </li>
            {% for page in pages %}
                {% if loop.revindex0 != 0 %}
                    {% set add_anchor = '' %}
                    {% for i in 0..loop.revindex0 %}
                        {% set add_anchor = add_anchor ~ 'up ' %}
                    {% endfor %}
                    <li>{{ _self.link(page, 'rel="' ~ add_anchor ~ '"') }}
                        <span class="divider">/</span></li>
                {% else %}
                    <li class="active"><a>{{ page.title }}</a></li>
                {% endif %}
            {% endfor %}
        </ul>
    </nav>
{% endmacro %}

{% macro titlebreadcrumbs(pages) %}
    {% spaceless %}
        {% for page in pages|reverse %}
            {{ page.title }}
            {% if(loop.revindex0 != 0) %}
                &laquo;
            {% endif %}
        {% endfor %}
    {% endspaceless %}
{% endmacro %}