parameters:
    kfi_cms.postClass:          KFI\CMSBundle\Entity\Post
    kfi_cms.categoryClass:      KFI\CMSBundle\Entity\Category
    kfi_cms.postcategoryClass:  KFI\CMSBundle\Entity\PostCategory
services:
    kfi_cms.twig.webpageextension:
        arguments: [@router]
        class: KFI\CMSBundle\Twig\WebPageExtension
        tags:
            - { name: twig.extension }
    kfi_cms.twig.cmsextension:
        arguments:
            - @doctrine.orm.entity_manager
            - '%kfi_cms.postClass%'
            - '%kfi_cms.categoryClass%'

        class: KFI\CMSBundle\Twig\CMSExtension
        tags:
            - { name: twig.extension }

    kfi_cms.admin.post:
        class: KFI\CMSBundle\Admin\PostAdmin
        tags:
            -
              name: sonata.admin
              manager_type: orm
              group: CMS
              label: Post
              label_catalogue: admin
              label_translator_strategy: sonata.admin.label.strategy.underscore
        arguments: [null, '%kfi_cms.postClass%', KFICMSBundle:PostAdmin]
        calls: [ [ setTranslationDomain, [ KFICMSBundle ] ] ]
    kfi_cms.admin.category:
        class: KFI\CMSBundle\Admin\CategoryAdmin
        tags:
            -
              name: sonata.admin
              manager_type: orm
              group: CMS
              label: Category
              label_catalogue: admin
              label_translator_strategy: sonata.admin.label.strategy.underscore
        arguments: [null, '%kfi_cms.categoryClass%', KFICMSBundle:Model\WebPageAdmin]
        calls: [ [ setTranslationDomain, [ KFICMSBundle ] ] ]
    kfi_cms.admin.tag:
        class: KFI\CMSBundle\Admin\TagAdmin
        tags:
            -
              name: sonata.admin
              manager_type: orm
              group: CMS
              label: Tag
              label_catalogue: admin
              label_translator_strategy: sonata.admin.label.strategy.underscore
        arguments: [null, KFI\CMSBundle\Entity\Tag, KFICMSBundle:Model\WebPageAdmin ]
        calls: [ [ setTranslationDomain, [ KFICMSBundle ] ] ]

    kfi_cms.form_type.postcategories:
        class: KFI\CMSBundle\Form\Type\PostCategoriesType
        arguments:
            - @doctrine.orm.entity_manager
            - '%kfi_cms.categoryClass%'
            - '%kfi_cms.postcategoryClass%'
        tags: [ { name: form.type, alias: kfi_cms_postcategories } ]
    kfi_cms.form_type.categoryposts:
        class: KFI\CMSBundle\Form\Type\CategoryPostsType
        arguments:
            - @doctrine.orm.entity_manager
            - '%kfi_cms.postClass%'
            - '%kfi_cms.postcategoryClass%'
        tags: [ { name: form.type, alias: kfi_cms_categoryposts } ]